<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Hank Lin]]></title>
  <link href="http://hanklin.com/atom.xml" rel="self"/>
  <link href="http://hanklin.com/"/>
  <updated>2013-02-04T10:23:34+08:00</updated>
  <id>http://hanklin.com/</id>
  <author>
    <name><![CDATA[Hank Lin]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress blogging]]></title>
    <link href="http://hanklin.com/blog/2013/02/02/octopress-blogging/"/>
    <updated>2013-02-02T16:16:00+08:00</updated>
    <id>http://hanklin.com/blog/2013/02/02/octopress-blogging</id>
    <content type="html"><![CDATA[<h2>Octopress - A blogging framework for hackers</h2>


<p>Octopress是一套基於Jekyll的blogging framework，概念是產生靜態的網頁，然後用Github幫你服務網頁。<br /> 如他的副標題所說的，是一套「給hackers用的blogging framework」。雖然沒真的那麼誇張，但是仍然要熟悉命令列、github、ruby、markdown、 html等等。但是熟悉了之後，效率會很高。<br />  現在我也試著從原本的wordpress改成Octopress，以前的舊文章也會慢慢轉過來。<br /><!-- more -->
以下是我的筆記，由於因緣際會我現在只有Windows電腦，所以下面都是Windows的作法，Mac或Linux之後再試試。<br /></p>

<h2>準備環境</h2>


<p>要有git命令列，Windows上可以用<a href="http://git-scm.com/">Git scm</a>，或是<a href="http://windows.github.com/">GitHub for Windows</a>。<br />
要有Ruby，Windows就用<a href="http://rubyinstaller.org/">Ruby Installer</a>。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ruby --version
</span><span class='line'>ruby 1.9.3p374 (2013-01-15) [i386-mingw32]</span></code></pre></td></tr></table></div></figure>


<p>Ruby版本要1.9.3以上。<br /></p>

<h2>安裝Octopress</h2>


<p>在這裡是安裝到octopress目錄下。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>$ cd octopress
</span><span class='line'>$ gem install bundler
</span><span class='line'>$ bundle install
</span><span class='line'>$ rake install</span></code></pre></td></tr></table></div></figure>


<p>在<code>bundle install</code>可能遇到<br />
<code>Gem::InstallError: The 'fast-stemmer' native gem requires installed build tools.</code><br />
的錯誤，解決方法就是安裝DevKit，一樣從<a href="http://rubyinstaller.org/downloads/">Ruby Installer</a>網站下載，我是安裝在devkit這個目錄下。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd devkit
</span><span class='line'>$ ruby dk.rb init
</span><span class='line'>$ ruby dk.rb install</span></code></pre></td></tr></table></div></figure>


<p>在Windows有惱人的CP950字碼問題，我在Gemfile加了<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>LANG="en_US.UTF-8"
</span><span class='line'>LC_ALL="en_US.UTF-8"
</span><span class='line'>if RUBY_VERSION =~ /1.9/
</span><span class='line'>  Encoding.default_external = Encoding::UTF_8
</span><span class='line'>  Encoding.default_internal = Encoding::UTF_8
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>並且加了環境變數<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>set LANG="en_US.UTF-8"
</span><span class='line'>set LC_ALL="en_US.UTF-8"</span></code></pre></td></tr></table></div></figure>




<h2>Hello Octopress World</h2>


<p>設定的東西在<code>octopress/_config.yml</code>，但是現在先不管他，我先寫一篇丟上來。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake new_post["hello world"]</span></code></pre></td></tr></table></div></figure>


<p>這樣會產生一個<code>octopress/source/_posts/yyyy-MM-dd-hello-world.markdown</code>檔案，在裡面寫些markdown吧。<br />寫好了之後，可以用以下的指令先看看成果</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake generate</span></code></pre></td></tr></table></div></figure>


<p>會產生最後的網頁檔案，而<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake watch</span></code></pre></td></tr></table></div></figure>


<p>會持續觀察<code>source</code>及<code>sass</code>目錄下檔案的變化，並主動regenerate成果。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake preview</span></code></pre></td></tr></table></div></figure>


<p>會開一個伺服器，讓你可以在<code>http://localhost:4000/</code><br />瀏覽自己的作品。</p>

<h2>丟上GitHub</h2>


<p>GitHub有兩種選擇可以服務網頁:User/Organization pages或Project pages (gh-pages)。差異不大，兩者都可以使用自訂網域名稱。在這裡我使用Project pages。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake setup_github_pages
</span><span class='line'>$ rake generate
</span><span class='line'>$ rake deploy</span></code></pre></td></tr></table></div></figure>


<p>執行<code>rake setup_github_pages</code>用來告訴octopress我們要使用的GitHub的Repository資訊，格式是:<code>git@github.com:your_username/your_projectname</code>。<br />
<code>rake deploy</code>這個指令就真的會把網頁傳上GitHub了。在這一步我在Windows上又有問題，我用GitHub for Windows的Git Shell去執行這個指令才能傳上GitHub。<br />
如果是產生第一次的網頁，GitHub可能會10分鐘才初始化好環境。但是初始化好之後，隨時佈署上GitHub，看到的就都是最新的內容。</p>
]]></content>
  </entry>
  
</feed>
